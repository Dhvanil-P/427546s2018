<!---Name: Dhvanil Patel
Subject: COMP 4270
Final Project Week 5
*-->
<!DOCTYPE html>
<html>
<body>
<style>

h1{
font-size: 30px;
font-family: 'Times New Roman', Times, serif;
text-decoration: underline;
text-align: center;
}
table{
background-color:rgb(239, 211, 251);
}
.button {
  display: inline-block;
  padding: 15px 25px;
  font-size: 24px;
  cursor: pointer;
  text-align: center;
  text-decoration: none;
  outline: none;
  color: #fff;
  background-color: rgb(233, 84, 208);
  border: none;
  border-radius: 15px;
  box-shadow: 0 3px black;
}

.button:hover {background-color: #3e8e41}

.button:active {
  background-color: #3e8e41;
  box-shadow: 0 3px #666;
  transform: translateY(4px);
}






</style>
<table border="6" style="width:100%">
<tr>
<th>
<h1>Front view of house</h1>
      	<svg id="front_view" width="300" height="350">
        	<!--main frame -->
   			<rect id="f_MH" x="25" y="50" width="150" height="125" style="fill:grey ;stroke:black;stroke-width:3"/>
            <!--main roof-->
            <rect id="f_MHR" x="25" y="35" width="150" height="15" style="fill:#64483a;stroke:black;stroke-width:3"/>
            <!--other house part-->
            <polygon id="f_A" points="175,25 210,10 245,25 245,175 175,175" style="fill:grey;stroke:black;stroke-width:3" />
            <!-- house door -->
            <rect id="f_D" x="90" y="145" width="20" height="30" style="fill:white;stroke:black;stroke-width:3"/>
            <!-- house windows -->
            <rect id="f_W1" x="50" y="75" width="15" height="25" style="fill:white;stroke:black;stroke-width:3"/>
            <rect id="f_W2" x="125" y="75" width="15" height="25" style="fill:white;stroke:black;stroke-width:3"/>
            <rect id="f_W3" x="200" y="45" width="20" height="30" style="fill:white;stroke:black;stroke-width:3"/>
            <path id="f_W3C" d="M 200 45 A 10 10 -45 0 1 220 45" style="fill:none;stroke:black;stroke-width:3"/>
            <rect id="f_W4" x="200" y="100" width="20" height="30" style="fill:white;stroke:black;stroke-width:3"/>
            <path id="f_W4C" d="M 200 100 A 10 10 -45 0 1 220 100" style="fill:none;stroke:black;stroke-width:3"/>
        </svg>
    </th>
    
    <th>
        <!-- SIDE -->
      <h1>Side view of house</h1>
        <svg id="side_view" width="300" height="350">
            <!-- house -->
             <rect id="s_MH" x="25" y="25" width="100" height="150" style="fill:grey;stroke:black;stroke-width:3"/>
          <!-- roof -->
          <rect id="s_MHR" x="25" y="10" width="100" height="15" style="fill:#64483a;stroke:black;stroke-width:3"/>
          <!-- house windows -->
          <rect id="s_W1" x="40" y="55" width="15" height="25" style="fill:white;stroke:black;stroke-width:3"/>
          <rect id="s_W2" x="40" y="100" width="15" height="25" style="fill:white;stroke:black;stroke-width:3"/>
          <rect id="s_W3" x="95" y="55" width="15" height="25" style="fill:white;stroke:black;stroke-width:3"/>
          <rect id="s_W4" x="95" y="100" width="15" height="25" style="fill:white;stroke:black;stroke-width:3"/>
      </svg>
    </th>
  </tr>
  <tr>
    <th>
      <button id="FrTrLeft"  class="button" onClick="translateX(this)">&#8678;</button>
      <button id="FrTrDown"  class="button" onClick="translateY(this)">&#8681;</button>
      <button id="FrRoLeft"    class="button" onClick="rotate(this)">&#10226;</button>
      <button id="FrRoRight"   class="button" onClick="rotate(this)">&#10227;</button>
      <button id="FrTrUp"  class="button" onClick="translateY(this)">&#8679;</button>
      <button id="FrTrRight" class="button" onClick="translateX(this)">&#8680;</button>
    </th>
    <th>
      <button id="sideTransLeft"  class="button" onClick="translateX(this)">&#8678;</button>
      <button id="sideTransDown"  class="button" onClick="translateY(this)">&#8681;</button>
      <button id="sideRotLeft"    class="button" onClick="rotate(this)">&#10226;</button>
      <button id="sideRotRight"   class="button" onClick="rotate(this)">&#10227;</button>
      <button id="sideTransUp"  class="button" onClick="translateY(this)">&#8679;</button>
      <button id="sideTransRight" class="button" onClick="translateX(this)">&#8680;</button>
    </th>
    </tr>
  


    <tr>
        <th>
            <!-- TOP -->
          <h1>Top view of house</h1>
            <svg id="top_view" width="300" height="350">
                 <!--main house -->
                 <rect id="t_MH" x="25" y="50" width="150" height="70" style="fill:#64483a;stroke:black;stroke-width:3"/>
              <line id="t_MHR" x1="25" y1="85" x2="175" y2="85" style="stroke:black;stroke-width:3"/>
              <!--house addition-->
              <rect id="t_A" x="175" y="20" width="70" height="100" style="fill:#64483a;stroke:black;stroke-width:3"/>
              <line id="t_AR" x1="210" y1="20" x2="210" y2="120" style="stroke:black;stroke-width:3"/>
          </svg>
        </th>
        <th>
            <!-- 3D Projection -->
          <h1>3D Projection of the house</h1>
          <canvas id="my-canvas" width="300" height="350"/>
          </svg>
        </th>
			</tr>
			<th>
				<button id="topTransLeft"  class="button" onClick="translateX(this)">&#8678;</button>
				<button id="topTransDown"  class="button" onClick="translateY(this)">&#8681;</button>
				<button id="topRotLeft"    class="button" onClick="rotate(this)">&#10226;</button>
				<button id="topRotRight"   class="button" onClick="rotate(this)">&#10227;</button>
				<button id="topTransUp"  class="button" onClick="translateY(this)">&#8679;</button>
				<button id="topTransRight" class="button" onClick="translateX(this)">&#8680;</button>
			</th>
			</tr>
		
  

        
</table>
</body>
<script>
/* starting values for transformation parameters (separate for each view) */
var f_transX = 0; var f_transY = 0;
	var s_transX = 0; var s_transY = 0;
	var t_transX = 0; var t_transY = 0;
	var f_scale = 1;  var s_scale = 1; var t_scale = 1;
	var f_rotAng = 0; var t_rotAng = 0; var s_rotAng = 0;
	var f_skewX = 0; var f_skewY = 0;
	var s_skewX = 0; var s_skewY = 0;
	var t_skewX = 0; var t_skewY = 0;
	/* arrays to hold the SVG elements of each of the views */
	var front_elems = [
		document.getElementById("f_MH"), document.getElementById("f_MHR"),
		document.getElementById("f_A"),  document.getElementById("f_D"),
		document.getElementById("f_W1"), document.getElementById("f_W2"),
		document.getElementById("f_W3"), document.getElementById("f_W3C"),
		document.getElementById("f_W4"), document.getElementById("f_W4C")
	]
	var side_elems = [
		document.getElementById("s_MH"),  document.getElementById("s_MHR"),
		document.getElementById("s_W1"), document.getElementById("s_W2"),
		document.getElementById("s_W3"), document.getElementById("s_W4")
	]
	var top_elems = [
		document.getElementById("t_MH"), document.getElementById("t_MHR"),
		document.getElementById("t_A"),  document.getElementById("t_AR")
	]
	/* Move the SVG element to the right along the X axis by a single pixel */
	function translateX(button){
		var btnID = button.id;
		var view;
		//console.log(button.id);
		//console.log("transX before : "+transX);
		if(btnID === 'FrTrLeft'){
			view = 'front';
			f_transX--; //decrease the translation paramter
		}else if(btnID == 'FrTrRight'){
			view = 'front';
			f_transX++; //increase the translation parameter
		}else if(btnID === 'sideTransLeft'){
			view = 'side';
			s_transX--; //decrease the translation paramter
		}else if(btnID == 'sideTransRight'){
			view = 'side';
			s_transX++; //increase the translation parameter
		}else if(btnID === 'topTransLeft'){
			view = 'top';
			t_transX--; //decrease the translation paramter
		}else if(btnID == 'topTransRight'){
			view = 'top';
			t_transX++; //increase the translation parameter
		}
		//console.log("transX after : "+transX);
		/* adjust the transformation attribute of the SVG objecst to do the transformation */
		switch (view){
			case 'front':
				var param = f_transX.toString();
				front_elems.forEach(function(element){
					element.setAttribute("transform","translate("+param+")");
				});
				break;
			case 'side':
				var param = s_transX.toString();
				side_elems.forEach(function(element){
					element.setAttribute("transform","translate("+param+")");
				});
				break;
			case 'top':
				var param = t_transX.toString();
				top_elems.forEach(function(element){
					element.setAttribute("transform","translate("+param+")");
				});
				break;
		}
	}
	/* move the SVG object along the y axis */
	function translateY(button){
		var btnID = button.id;
		var view;
		if(btnID === 'FrTrUp'){
			view = 'front';
			f_transY--; //decrease the translation paramter
		}else if(btnID == 'FrTrDown'){
			view = 'front';
			f_transY++; //increase the translation parameter
		}else if(btnID === 'sideTransUp'){
			view = 'side';
			s_transY--; //decrease the translation paramter
		}else if(btnID == 'sideTransDown'){
			view = 'side';
			s_transY++; //increase the translation parameter
		}else if(btnID === 'topTransUp'){
			view = 'top';
			t_transY--; //decrease the translation paramter
		}else if(btnID == 'topTransDown'){
			view = 'top';
			t_transY++; //increase the translation parameter
		}
		/* adjust the transformation attribute of the SVG objecst to do the transformation */
		switch (view){
			case 'front':
				var param = f_transY.toString();
				front_elems.forEach(function(element){
					element.setAttribute("transform","translate(0 "+param+")");
				});
				break;
			case 'side':
				var param = s_transY.toString();
				side_elems.forEach(function(element){
					element.setAttribute("transform","translate(0 "+param+")");
				});
				break;
			case 'top':
				var param = t_transY.toString();
				top_elems.forEach(function(element){
					element.setAttribute("transform","translate(0 "+param+")");
				});
				break;
		}
	}
	/* rotate the object by its origin (0,0) either to the left or right */
	function rotate(button){
		var btnID = button.id;
		var view;
		//console.log(button.id);
		//console.log("rotAng before : "+rotAng);
		if(btnID === 'FrRoLeft'){
			view = 'front';
			f_rotAng--; //decrease the translation paramter
		}else if(btnID == 'FrRoRight'){
			view = 'front';
			f_rotAng++; //increase the translation parameter
		}else if(btnID === 'sideRotLeft'){
			view = 'side';
			s_rotAng--; //decrease the translation paramter
		}else if(btnID == 'sideRotRight'){
			view = 'side';
			s_rotAng++; //increase the translation parameter
		}else if(btnID === 'topRotLeft'){
			view = 'top';
			t_rotAng--; //decrease the translation paramter
		}else if(btnID == 'topRotRight'){
			view = 'top';
			t_rotAng++; //increase the translation parameter
		}
		//console.log("rotAng after : "+rotAng);
		/* adjust the transformation attribute of the SVG objecst to do the transformation */
		switch (view){
			case 'front':
				var param = f_rotAng.toString();
				front_elems.forEach(function(element){
					element.setAttribute("transform","rotate("+param+")");
				});
				break;
			case 'side':
				var param = s_rotAng.toString();
				side_elems.forEach(function(element){
					element.setAttribute("transform","rotate("+param+")");
				});
				break;
			case 'top':
				var param = t_rotAng.toString();
				top_elems.forEach(function(element){
					element.setAttribute("transform","rotate("+param+")");
				});
				break;
		}
	}
	/* scale the SVG object up or down */
	function scale(button){
		var btnID = button.id;
		var view;
		//console.log(button.id);
		//console.log("scaleX before : "+scaleX);
		if(btnID === 'frontScaleDown'){
			view = 'front';
			f_scale-= 0.1; //decrease the translation paramter
		}else if(btnID == 'frontScaleUp'){
			view = 'front';
			f_scale+= 0.1; //increase the translation parameter
		}else if(btnID === 'sideScaleDown'){
			view = 'side';
			s_scale-= 0.1; //decrease the translation paramter
		}else if(btnID == 'sideScaleUp'){
			view = 'side';
			s_scale+= 0.1; //increase the translation parameter
		}else if(btnID === 'topScaleDown'){
			view = 'top';
			t_scale-= 0.1; //decrease the translation paramter
		}else if(btnID == 'topScaleUp'){
			view = 'top';
			t_scale+= 0.1; //increase the translation parameter
		}
		//console.log("scaleX after : "+scaleX);
		/* adjust the transformation attribute of the SVG objecst to do the transformation */
		switch (view){
			case 'front':
				var param = f_scale.toString();
				front_elems.forEach(function(element){
					element.setAttribute("transform","scale("+param+" "+param+")");
				});
				break;
			case 'side':
				var param = s_scale.toString();
				side_elems.forEach(function(element){
					element.setAttribute("transform","scale("+param+" "+param+")");
				});
				break;
			case 'top':
				var param = t_scale.toString();
				top_elems.forEach(function(element){
					element.setAttribute("transform","scale("+param+" "+param+")");
				});
				break;
		}
	}
	/* skew the SVG object along the x axis */
	function skewX(button){
		var btnID = button.id;
		var view;
		if(btnID === 'frontSkewXLeft'){
			view = 'front';
			f_skewX--; //decrease the translation paramter
		}else if(btnID == 'frontSkewXRight'){
			view = 'front';
			f_skewX++; //increase the translation parameter
		}else if(btnID === 'sideSkewXleft'){
			view = 'side';
			s_skewX--; //decrease the translation paramter
		}else if(btnID == 'sideSkewXRight'){
			view = 'side';
			s_skewX++; //increase the translation parameter
		}else if(btnID === 'topSkewXLeft'){
			view = 'top';
			t_skewX--; //decrease the translation paramter
		}else if(btnID == 'topSkewXRight'){
			view = 'top';
			t_skewX++; //increase the translation parameter
		}
		/* adjust the transformation attribute of the SVG objecst to do the transformation */
		switch (view){
			case 'front':
				var param = f_skewX.toString();
				front_elems.forEach(function(element){
					element.setAttribute("transform","skewX("+param+")");
				});
				break;
			case 'side':
				var param = s_skewX.toString();
				side_elems.forEach(function(element){
					element.setAttribute("transform","skewX("+param+")");
				});
				break;
			case 'top':
				var param = t_skewX.toString();
				top_elems.forEach(function(element){
					element.setAttribute("transform","skewX("+param+")");
				});
				break;
		}
	}
	/* skew the SVG object along the y axis */
	function skewY(button){
		var btnID = button.id;
		var view;
		if(btnID === 'frontSkewYLeft'){
			view = 'front';
			f_skewY--; //decrease the translation paramter
		}else if(btnID == 'frontSkewYRight'){
			view = 'front';
			f_skewY++; //increase the translation parameter
		}else if(btnID === 'sideSkewYleft'){
			view = 'side';
			s_skewY--; //decrease the translation paramter
		}else if(btnID == 'sideSkewYRight'){
			view = 'side';
			s_skewY++; //increase the translation parameter
		}else if(btnID === 'topSkewYLeft'){
			view = 'top';
			t_skewY--; //decrease the translation paramter
		}else if(btnID == 'topSkewYRight'){
			view = 'top';
			t_skewY++; //increase the translation parameter
		}
		/* adjust the transformation attribute of the SVG objecst to do the transformation */
		switch (view){
			case 'front':
				var param = f_skewY.toString();
				front_elems.forEach(function(element){
					element.setAttribute("transform","skewY("+param+")");
				});
				break;
			case 'side':
				var param = s_skewY.toString();
				side_elems.forEach(function(element){
					element.setAttribute("transform","skewY("+param+")");
				});
				break;
			case 'top':
				var param = t_skewY.toString();
				top_elems.forEach(function(element){
					element.setAttribute("transform","skewY("+param+")");
				});
				break;
		}
	}





    var canvas = document.getElementById('my-canvas');
    var context = canvas.getContext('2d');

    ///*
    // Corner Points for the sections of the house //
    var main_house_vert = [
		new Vertex(0, 0, 0), // Front-Bottom-Left
  new Vertex( 150, 0, 0), // Front-Bottom-Right
  new Vertex(0, 0,  70), // Rear-Bottom-Left
  new Vertex( 150, 0,  70), // Rear-Bottom-Right
  new Vertex(0, 125, 0), // Front-Top-Left
  new Vertex( 150,  125, 0), // Front-Top-Right
  new Vertex(0,  125,  70), // Rear-Top-Left
  new Vertex( 150,  125,  70)  // Rear-Top-Right
];
var side_house_vert = [
  new Vertex(150, 0, 0), // Front-Bottom-Left
  new Vertex( 220, 0, 0), // Front-Bottom-Right
  new Vertex(150, 0,  100), // Rear-Bottom-Left
  new Vertex( 220, 0,  100), // Rear-Bottom-Right
  new Vertex(150, 150, 0), // Front-Top-Left
  new Vertex( 220,  150, 0), // Front-Top-Right
  new Vertex(150,  150,  100), // Rear-Top-Left
  new Vertex( 220,  150,  100)  // Rear-Top-Right
];
var main_roof_vert = [
  new Vertex(0, 125, 0), // Front-Bottom-Left
  new Vertex( 150, 125, 0), // Front-Bottom-Right
  new Vertex(0, 125,  70), // Rear-Bottom-Left
  new Vertex( 150, 125,  70), // Rear-Bottom-Right
  new Vertex(0, 140, 35), // Top-Left
  new Vertex( 150,  140, 35), // Top-Right
];
var side_roof_vert = [
  new Vertex(150, 150, 0), // Front-Bottom-Left
  new Vertex(220, 150, 0), // Front-Bottom-Right
  new Vertex(150, 150,  100), // Rear-Bottom-Left
  new Vertex( 220, 150, 100), // Rear-Bottom-Right
  new Vertex(185, 165, 0), // Top-Left
  new Vertex( 185,  165, 100), // Top-Right
];

    //*/
    function Vertex(x, y, z) {
      this.x = function() {
        return x;
      };
      this.y = function() {
        return y;
      };
      this.z = function() {
        return z;
      };
    }
    var main_house = [
      new Polygon([main_house_vert[0], main_house_vert[1], main_house_vert[5], main_house_vert[4]]), // Front
      new Polygon([main_house_vert[2], main_house_vert[3], main_house_vert[7], main_house_vert[6]]), // Rear
      new Polygon([main_house_vert[0], main_house_vert[1], main_house_vert[3], main_house_vert[2]]), // Bottom
      new Polygon([main_house_vert[4], main_house_vert[5], main_house_vert[7], main_house_vert[6]]), // Top
      new Polygon([main_house_vert[0], main_house_vert[2], main_house_vert[6], main_house_vert[4]]), // Left
      new Polygon([main_house_vert[1], main_house_vert[3], main_house_vert[7], main_house_vert[5]])  // Right
    ];
    ///*
    var side_house = [
      new Polygon([side_house_vert[0], side_house_vert[1], side_house_vert[5], side_house_vert[4]]), // Front
      new Polygon([side_house_vert[2], side_house_vert[3], side_house_vert[7], side_house_vert[6]]), // Rear
      new Polygon([side_house_vert[0], side_house_vert[1], side_house_vert[3], side_house_vert[2]]), // Bottom
      new Polygon([side_house_vert[4], side_house_vert[5], side_house_vert[7], side_house_vert[6]]), // Top
      new Polygon([side_house_vert[0], side_house_vert[2], side_house_vert[6], side_house_vert[4]]), // Left
      new Polygon([side_house_vert[1], side_house_vert[3], side_house_vert[7], side_house_vert[5]])  // Right
    ];
    var side_house = [
      new Polygon([side_house_vert[0], side_house_vert[1], side_house_vert[5], side_house_vert[4]]), // Front
      new Polygon([side_house_vert[2], side_house_vert[3], side_house_vert[7], side_house_vert[6]]), // Rear
      new Polygon([side_house_vert[0], side_house_vert[1], side_house_vert[3], side_house_vert[2]]), // Bottom
      new Polygon([side_house_vert[4], side_house_vert[5], side_house_vert[7], side_house_vert[6]]), // Top
      new Polygon([side_house_vert[0], side_house_vert[2], side_house_vert[6], side_house_vert[4]]), // Left
      new Polygon([side_house_vert[1], side_house_vert[3], side_house_vert[7], side_house_vert[5]])  // Right
    ];
    var main_roof = [
      new Polygon([main_roof_vert[0], main_roof_vert[1], main_roof_vert[3], main_roof_vert[2]]), //bottom
      new Polygon([main_roof_vert[0], main_roof_vert[1], main_roof_vert[5], main_roof_vert[4]]), // front
      new Polygon([main_roof_vert[2], main_roof_vert[3], main_roof_vert[5], main_roof_vert[4]]), // rear
      new Polygon([main_roof_vert[0], main_roof_vert[2], main_roof_vert[4]]), // left
      new Polygon([main_roof_vert[1], main_roof_vert[3], main_roof_vert[5]]) // right
    ];
    var side_roof = [
      new Polygon([side_roof_vert[0], side_roof_vert[1], side_roof_vert[3], side_roof_vert[2]]), //bottom
      new Polygon([side_roof_vert[0], side_roof_vert[4], side_roof_vert[5], side_roof_vert[2]]), // left
      new Polygon([side_roof_vert[1], side_roof_vert[3], side_roof_vert[5], side_roof_vert[4]]), // right
      new Polygon([side_roof_vert[0], side_roof_vert[1], side_roof_vert[4]]), // front
      new Polygon([side_roof_vert[2], side_roof_vert[3], side_roof_vert[5]]) // rear
    ];
    
    
    //*/
    function Polygon(vertices) {
      this.count = function() {
        return vertices.length;
      };
      this.vertex = function(i) {
        if (i < 0) {
          throw new Error('Vertex index must be a positive integer')
        }
        if (i >= vertices.length) {
          throw new Error('Vertex index out of bounds');
        }
        return vertices[i];
      };
    }
    
    // Make the cube half the width of the canvas
    var size = canvas.width / 2;
    
    var ang_div = 6;
    var angle = Math.PI / ang_div; //30
    
    var a = Math.cos(angle);
    var b = Math.sin(angle);
    var fx = function(vertex) {
      return vertex.x() * a + vertex.z() * a;
    };
    var fy = function(vertex) {
      return vertex.y() + vertex.z() * b - vertex.x() * b;
    };
    
    // Makes 0 the center of the canvas
    context.translate(canvas.width / 20, canvas.height / 2);
    
    for (var i = 0; i < main_house.length; ++i) {
      drawPolygon(context, main_house[i], fx, fy);
      drawPolygon(context, side_house[i], fx, fy);
      drawPolygon(context, main_roof[i], fx, fy);
      drawPolygon(context, side_roof[i], fx, fy);
    }
    function drawPolygon(context, polygon, fx, fy) {
      context.beginPath();
    
      // The -1 * is used to flip the y coordinate as y value increases
      // as you move down the canvas.
      context.moveTo(fx(polygon.vertex(0)), -1 * fy(polygon.vertex(0)));
      for (var i = 1; i < polygon.count(); ++i) {
        context.lineTo(fx(polygon.vertex(i)), -1 * fy(polygon.vertex(i)));
      }
      context.closePath();
      context.stroke();
    }
    
    function changeAngle(dir){
        if(dir === 'up'){
            ang_div++;
            angle = Math.PI / ang_div;
            a = Math.cos(angle);
            b = Math.sin(angle);
            drawPolygon(context, main_house[i], fx, fy);
            drawPolygon(context, side_house[i], fx, fy);
            drawPolygon(context, main_roof[i], fx, fy);
            drawPolygon(context, side_roof[i], fx, fy);
        }else if(dir === 'down'){
            ang_div--;
            angle = Math.PI / ang_div;
            a = Math.cos(angle);
            b = Math.sin(angle);
            drawPolygon(context, main_house[i], fx, fy);
            drawPolygon(context, side_house[i], fx, fy);
            drawPolygon(context, main_roof[i], fx, fy);
            drawPolygon(context, side_roof[i], fx, fy);
        }
    }
    
    </script>
  
</html>
